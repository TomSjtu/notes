# 设备驱动基础知识

在Linux系统中，设备驱动以模块的形式出现。在Linux内核源码中有超过50%的代码以设备驱动的形式存在。所谓模块就是实现了某个功能的一段代码。可以在内核运行过程中，动态地加载这部分代码，从而拓展内核的功能。以模块的形式编写代码，只需要编译相关的驱动代码即可，而不需要对整个内核重新编译，这无疑给开发者节省了很多麻烦。开发人员可以随意地将正在测试的驱动程序添加到内核中或者从内核中移除。

模块的最终编译成的文件以.ko为后缀，通过insmod命令加载到内核，rmmod命令卸载。如果编写的模块有其他依赖，可以用modprobe命令一起加载。当我们需要导出模块时，可以使用以下宏：

```C
EXPORT_SYMBOL(name);
```

## 驱动开发环境搭建

## 第一个内核模块





